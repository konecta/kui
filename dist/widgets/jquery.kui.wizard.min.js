!function(a){a.kui.instances.wizard={},a.kui.widgets.wizard=function(c){return a.kui.instances.wizard[this.id]=new b(this,c)};var b=function(b,c){return void 0===c[a.kui.i18n.steps]?void window.console.error('The param "'+a.kui.i18n.steps+'" is required.'):(a.extend(this,{steps:c[a.kui.i18n.steps],indices:c[a.kui.i18n.indices],prev:c[a.kui.i18n.prev],next:c[a.kui.i18n.next],validate:c[a.kui.i18n.validate],loadComplete:c[a.kui.i18n.loadComplete]}),this.div=b,void this.load())};b.prototype={load:function(){var b=this,c=a(b.div);c.hide().attr("data-wizard",!0).attr("data-step","0"),"string"==typeof b.steps&&(c.find(b.steps).each(function(b,c){a(c).hide().attr("data-wizard-step",!0).attr("data-step",b+1)}),c.find(b.indices).each(function(b,c){a(c).removeClass("active").attr("data-wizard-index",!0).attr("data-index",b+1)})),b.pager={},b.prev&&b.next||(b.pager.container=a("<ul>").addClass("pager").appendTo(a("<nav>").appendTo(c))),b.pager.prev=b.prev?a(b.prev):a("<button>").addClass("btn btn-default").html(a.kui.i18n.prevMsg).appendTo(a("<li>").appendTo(b.pager.container)).after("&nbsp;"),b.pager.next=b.next?a(b.next):a("<button>").addClass("btn btn-primary").html(a.kui.i18n.nextMsg).appendTo(a("<li>").appendTo(b.pager.container)).before("&nbsp;"),b.pager.prev.click(function(){var a=parseInt(c.attr("data-step"));b.showStep(a-1)}),b.pager.next.click(function(){var a=parseInt(c.attr("data-step"));b.stepValid(a)&&b.showStep(a+1)}),"function"==typeof b.loadComplete&&b.loadComplete.call(this),b.showStep(1),c.fadeIn()},stepValid:function(b){var c=this,d=!0,e=a(c.div).find('[data-wizard-step][data-step="'+b+'"]');return"function"==typeof c.validate&&(d=c.validate.call(this,e)),d},showStep:function(b){var c=this,d=a(c.div),e=d.find('[data-wizard-step][data-step="'+b+'"]');if(e.length){var f=d.find("[data-wizard-step]:visible");f.trigger("hide").hide().trigger("hidden"),d.find("[data-wizard-index]").removeClass("active"),d.find('[data-wizard-index][data-index="'+b+'"]').addClass("active"),d.attr("data-step",b),c.pager.prev.prop("disabled",1===b),c.pager.next.prop("disabled",b===d.find("[data-wizard-step]").length),e.trigger("show").fadeIn("slow",function(){e.trigger("shown")})}}}}(jQuery);