!function(a){a.kui.instances.wizard={},a.kui.widgets.wizard=function(c){return a.kui.instances.wizard[this.id]=new b(this,c)};var b=function(b,c){return void 0===c.pasos?void window.console.error('Los parámetros "pasos" y "" son obligatorios.'):(a.extend(this,c),this.div=b,void this.cargar())};b.prototype={cargar:function(){var b=this,c=a(b.div);c.hide().attr("data-wizard",!0).attr("data-step","0"),"string"==typeof b.pasos&&(c.find(b.pasos).each(function(b,c){a(c).hide().attr("data-wizard-step",!0).attr("data-step",b+1)}),c.find(b.indices).each(function(b,c){a(c).removeClass("active").attr("data-wizard-index",!0).attr("data-index",b+1)})),b.control={},b.control.prev=b.anterior?a(b.anterior):a("<button>").addClass("btn btn-default").appendTo(c),b.control.next=b.siguiente?a(b.siguiente):a("<button>").addClass("btn btn-primary").appendTo(c),b.control.prev.click(function(){var a=parseInt(c.attr("data-step"));b.mostrarPaso(a-1)}),b.control.next.click(function(){var a=parseInt(c.attr("data-step"));b.validar(a)?b.mostrarPaso(a+1):window.alert("Algo en este paso no es válido.")}),"function"==typeof b.loadComplete&&b.loadComplete.call(this),b.mostrarPaso(1),c.fadeIn()},validar:function(b){var c=this,d=!0,e=a(c.div).find('[data-wizard-step][data-step="'+b+'"]');return"function"==typeof c.validacion&&(d=c.validacion.call(this,e)),d},mostrarPaso:function(b){var c=this,d=a(c.div),e=d.find('[data-wizard-step][data-step="'+b+'"]');e.length&&(d.find("[data-wizard-index]").removeClass("active"),d.find("[data-wizard-step]:visible").hide(),d.find('[data-wizard-index][data-index="'+b+'"]').addClass("active"),d.attr("data-step",b),c.control.prev.prop("disabled",1===b),c.control.next.prop("disabled",b===d.find("[data-wizard-step]").length),e.fadeIn())}}}(jQuery);